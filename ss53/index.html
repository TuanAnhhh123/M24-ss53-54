<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
        <!-- 
      Đồng bộ và bất đồng bộ
      1.Đồng bộ : synchronous
      Ngôn ngữ javascript là 1 ngôn ngữ đơn luồng (single-thread: chỉ 1 luồng chạy
      duy nhất ,luồng code chạy từ trái qua phải và từ trên xuống dưới)
      2.Bất đồng bộ : asynchronus
      Những việc cần thời gian xử lý như hàm setTimeout , setinterval, gửi request
      lên sever, các thao tác tương tác database  
      Trong JS sinh ra các cách dể xử lý các tác vụ bất dồng bộ
      1.dùng callback
      callback là 1 hàm dùng làm đối số của hàm khác
      2.promise
      3.async-await
    -->
    <script>
    //     console.log("công việc 1");
    //     setTimeout(()=>{
    //       console.log("công việc 2");
    //     },5000)
    //     console.log("công việc 3");
    // function task1(){
    //     // cần thời gian đi xử lý công việc
    //     // VD công việc 1 cần 2 s để thực thi
    //     setTimeout((callback)=>{
    //         console.log("công việc 1 được thực hiện");
    //         callback();
    //     },2000);
    //     function task2(){
    //         console.log("được thực thi sau khi tác 1 hoàn thành");
    //     }
    //     // task1(task2);
    // }
    // setTimeout(()=>{
    //         console.log("công việc 1 thực thi");
    //         setTimeout(()=>{
    //             console.log("công việc 2 thực thi sau khi công việc 1 hoàn thành");
    //             setTimeout(()=>{
    //                 console.log("công việc 3 thực thi sau khi công việc 2 hoàn thành");
    //             },7000)
    //         },1000)
    //     },1000)
    //     khi viết nhiều hàm xử lý lồng nhau thì sẽ rơi vào tình trạng
        // callback hell(địa ngục)
        // 
        // let result = arr.map((item)=>{
            //   return item*2  
            // })
            // dùng callback việc hàm xử lý tương tự như hàm map
            // function myMap(a,callback){
                //     let result=[];
                //     for(const value of a){
                    //         result.push(callback(value));
                    //     }
                    //     return result;
                    // }
                    // myMap(arr,(item)=>item*2);
                    // dùng callback để custom lại hàm filter-lọc
                    // let result1 = arr.filter((item)=>item>5);
                    // console.log("seresult",result1);//[]
                    function myFilter(arr,callback){
                        let result2=[];
                        for(const item of arr){
                            if(callback(item)){
                                result2.push(item);                    
                            }
                        }
                        return result2;
                    }
                    let arr=[1,2,3,4,5];                    
                    let result2 = myFilter(arr,(item)=>item>3);
                    console.log(result2);
   </script>
</body>
</html>